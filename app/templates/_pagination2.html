{% if products.paginator.num_pages > 1 %}
<nav aria-label="Page navigation">
    <ul class="pagination">
    <!-- 「前へ」の部分 -->
    {% if products.has_previous %}
        <li class="page-item">
            <a href="?csrfmiddlewaretoken={{csrf_token}}&q={{query}}&page={{ products.previous_page_number }}">前へ</a>
        </li>
    {% endif %}

    <!-- 数字部分 -->
    {% for num in products.paginator.page_range %}
        <li class="page-item">
        {% if products.number == num %}
            <span>{{ num }}</span>
        {% else %}
            <a href="?csrfmiddlewaretoken={{csrf_token}}&q={{query}}&page={{ num }}">{{ num }}</a>
        {% endif %}
        </li>
    {% endfor %}

    <!-- 「次へ」 の部分 -->
    {% if products.has_next %}
        <li class="page-item">
            <a href="?csrfmiddlewaretoken={{csrf_token}}&q={{query}}&page={{ products.next_page_number }}">次へ</a>
        </li>
    {% endif %}
  <!-- {% for pg in products.paginator.page_range %}
  <a href="?csrfmiddlewaretoken={{csrf_token}}&q={{query}}&page={{pg}}">{{pg}}</a>
  {% endfor %} -->
    </ul>
</nav>
{% endif %}